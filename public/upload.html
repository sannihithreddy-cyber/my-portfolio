<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Upload Resume</title>
    <style>body{font-family:system-ui,Segoe UI,Arial;margin:40px;max-width:720px} .box{padding:20px;border:1px solid #ddd;border-radius:8px}</style>
  </head>
  <body>
    <h1>Upload Resume to MongoDB</h1>
    <p>This posts to <code>/api/resume</code>. In dev, Vite proxies to your API.</p>
    <div class="box">
      <form id="form" method="post" action="/api/resume" enctype="multipart/form-data">
        <input type="file" name="file" accept="application/pdf,.pdf" required />
        <button type="submit">Upload</button>
      </form>
      <pre id="out"></pre>
    </div>
    <script>
      const f = document.getElementById('form');
      const out = document.getElementById('out');
      f.addEventListener('submit', async (e) => {
        e.preventDefault();
        const fd = new FormData(f);
        out.textContent = 'Uploading...';
        try {
          const res = await fetch('/api/resume', { method: 'POST', body: fd });
          const t = await res.text();
          out.textContent = t;
        } catch (err) {
          out.textContent = 'Error: ' + err.message;
        }
      });
    </script>
  </body>
  </html>

